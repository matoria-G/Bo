<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>XDoclet: Attribute-Oriented Programming - XDoclet 2 Design</title><style type="text/css" media="all">
          @import url("../style/maven-base.css");
          
			    @import url("../style/maven-theme.css");</style><link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><link rel="shortcut icon" href="../favicon.ico"></link><link rel="icon" href="../favicon.ico"></link></head><body class="composite"><div id="banner"><a href="http://xdoclet.sourceforge.net/" id="organizationLogo"><img alt="XDoclet Team" src="../images/logo.gif"></img></a><a href="http://xdoclet.sourceforge.net/xdoclet/" id="projectLogo"><img alt="XDoclet" src="http://sflogo.sourceforge.net/sflogo.php?group_id=31602&amp;type=5"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xleft">
                	Last published: 16 April 2005
                  | Doc for 1.2.3</div><div class="xright">
        
        <a href="http://xdoclet.sourceforge.net/xdoclet/" class="externalLink" title="External Link">Home</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://sourceforge.net/projects/xdoclet/" class="externalLink" title="External Link">SourceForge Project</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://xdoclet.sourceforge.net/wiki/" class="externalLink" title="External Link">Wiki</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/xdoclet/" class="externalLink" title="External Link">Browse CVS</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://opensource.atlassian.com/projects/xdoclet/secure/CreateIssue!default.jspa" class="externalLink" title="External Link">Create an Issue</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menuXDoclet"><h5>XDoclet</h5><ul><li class="none"><a href="../index.html">Overview</a></li><li class="none"><a href="../status.html">News and Status</a></li><li class="none"><a href="../install.html">Download/Installation</a></li><li class="none"><a href="../using.html">Using XDoclet</a></li><li class="none"><a href="../bp.html">Best Practices</a></li><li class="none"><a href="../faq.html">FAQ</a></li><li class="none"><a href="../licenses/xdoclet-license.html">License</a></li></ul></div><div id="menuAnt_Task_Reference"><h5>Ant Task Reference</h5><ul><li class="none"><a href="../ant/xdoclet/DocletTask.html">&lt;doclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/ejb/EjbDocletTask.html">&lt;ejbdoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/hibernate/HibernateDocletTask.html">&lt;hibernatedoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/jdo/JdoDocletTask.html">&lt;jdodoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/jmx/JMXDocletTask.html">&lt;jmxdoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/mockobjects/MockObjectDocletTask.html">&lt;mockdoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/portlet/PortletDocletTask.html">&lt;portletdoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/spring/SpringDocletTask.html">&lt;springdoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/apache/tapestry/TapestryDocletTask.html">&lt;tapestrydoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/web/WebDocletTask.html">&lt;webdoclet .. /&gt;</a></li><li class="none"><a href="../ant/xdoclet/modules/wsee/WseeDocletTask.html">&lt;wseedoclet .. /&gt;</a></li></ul></div><div id="menuTag_Reference"><h5>Tag Reference</h5><ul><li class="none"><a href="../tags/apache-tags.html">apache (@soap @struts @axis @tapestry)</a></li><li class="none"><a href="../tags/bea-tags.html">bea (@weblogic)</a></li><li class="none"><a href="../tags/borland-tags.html">borland (@bes)</a></li><li class="none"><a href="../tags/caucho-tags.html">caucho (@resin)</a></li><li class="none"><a href="../tags/ejb-tags.html">ejb (@ejb @dao)</a></li><li class="none"><a href="../tags/exolab-tags.html">exolab (@castor)</a></li><li class="none"><a href="../tags/hp-tags.html">hp (@hpas)</a></li><li class="none"><a href="../tags/hibernate-tags.html">hibernate (@hibernate)</a></li><li class="none"><a href="../tags/ibm-tags.html">ibm (@websphere)</a></li><li class="none"><a href="../tags/java-tags.html">java (@javabean)</a></li><li class="none"><a href="../tags/jboss-tags.html">jboss (@jboss)</a></li><li class="none"><a href="../tags/jdo-tags.html">jdo (@jdo)</a></li><li class="none"><a href="../tags/jmx-tags.html">jmx (@jmx)</a></li><li class="none"><a href="../tags/jsf-tags.html">jsf (@jsf)</a></li><li class="none"><a href="../tags/macromedia-tags.html">macromedia (@jrun)</a></li><li class="none"><a href="../tags/mockobjects-tags.html">mockobjects (@mock)</a></li><li class="none"><a href="../tags/mvcsoft-tags.html">mvcsoft (@mvcsoft)</a></li><li class="none"><a href="../tags/mx4j-tags.html">mx4j (@mx4j)</a></li><li class="none"><a href="../tags/objectweb-tags.html">objectweb (@jonas)</a></li><li class="none"><a href="../tags/oracle-tags.html">oracle (@oc4j)</a></li><li class="none"><a href="../tags/orion-tags.html">orion (@orion)</a></li><li class="none"><a href="../tags/portlet-tags.html">portlet (@portlet)</a></li><li class="none"><a href="../tags/pramati-tags.html">pramati (@pramati)</a></li><li class="none"><a href="../tags/spring-tags.html">spring (@spring)</a></li><li class="none"><a href="../tags/sun-tags.html">sun (@sunone)</a></li><li class="none"><a href="../tags/sybase-tags.html">sybase (@easerver)</a></li><li class="none"><a href="../tags/tjdo-tags.html">tjdo (@tjdo)</a></li><li class="none"><a href="../tags/web-tags.html">web (@web @jsp)</a></li><li class="none"><a href="../tags/webwork-tags.html">webwork (@webwork)</a></li><li class="none"><a href="../tags/wsee-tags.html">wsee (@wsee)</a></li><li class="none"><a href="../tags/xdoclet-tags.html">xdoclet (@xdoclet @doc @msg)</a></li></ul></div><div id="menuFeature_Documentation"><h5>Feature Documentation</h5><ul><li class="none"><a href="../valueobjects.html">Using Value Objects</a></li><li class="none"><a href="../envhandling.html">EJB Environment Handling</a></li></ul></div><div id="menuAdvanced"><h5>Advanced</h5><ul><li class="none"><a href="../maven-plugin.html">Maven Plug-in</a></li><li class="none"><a href="../merge.html">Merge Points</a></li><li class="none"><a href="../ide/index.html">IDE Integration</a></li><li class="none"><a href="../migration.html">Migration from EJBDoclet</a></li><li class="none"><a href="../ant15.html">Ant 1.5 Troubleshooting</a></li></ul></div><div id="menuCommunity"><h5>Community</h5><ul><li class="none"><a href="../feedback.html">Feedback</a></li><li class="none"><a href="../resources.html">Resources</a></li><li class="none"><a href="../tools.html">Tools</a></li></ul></div><div id="menuDevelopment"><h5>Development</h5><ul><li class="none"><a href="../development/index.html">Developer Guide</a></li><li class="none"><a href="../api/index.html">Javadoc (API)</a></li><li class="none"><a href="../templates/index.html">Template Language (*.xdt)</a></li><li class="none"><a href="http://xdoclet.sourceforge.net/xjavadoc/" class="externalLink" title="External Link">XJavaDoc Site</a></li></ul></div><div id="search"><h5>Search XDoclet</h5><form action="http://www.google.com/search" method="get"><a href="http://www.google.com" class="navlink"><img height="32" width="75" alt="Google" src="http://www.google.com/logos/Logo_25wht.gif"></img></a><input name="q" maxlength="255" size="15" type="text" value="" id="q"></input><input name="btnG" type="submit" value="Go" id="btnG"></input><input name="domains" type="hidden" value="http://xdoclet.sourceforge.net/xdoclet"></input><input name="sitesearch" type="hidden" value="http://xdoclet.sourceforge.net/xdoclet" id="search"></input></form></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="../index.html">About XDoclet</a></li><li class="collapsed"><a href="../project-info.html">Project Info</a></li><li class="collapsed"><a href="../maven-reports.html">Project Reports</a></li><li class="none"><a href="http://maven.apache.org/development-process.html" class="externalLink" title="External Link">Development Process</a></li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="../images/logos/maven-button-1.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="XDoclet_2_Design"></a><h2>XDoclet 2 Design</h2><p>
                THIS DOCUMENT IS OBSOLETE; FOR MORE INFORMATION ON XDOCLET2, CHECK <a href="http://xdoclet.codehaus.org/" class="externalLink" title="External Link">http://xdoclet.codehaus.org</a>.
            </p><p>
                This document is a proposal for the <b>XDoclet 2 design</b>. This version is
                a complete rewrite and will probably break compatibility with older versions and source
                files using wrongly formatted tags.
            </p><p>
                Please take note that modules are now named <b>plug-ins</b>.
            </p><p>
                For more up-to-date details about the new XDoclet 2 architecture, check out the
                <a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/xdoclet/xdoclet2/" class="externalLink" title="External Link">xdoclet2</a> CVS module.
            </p><div class="subsection"><a name="Goals"></a><h3>Goals</h3><p>
                    General:
                    <ul>
                        <li>Major performance improvements</li>
                        <li>Simple API for writing plug-ins (less bound to the core)</li>
                        <li>Unit tests, unit tests, unit tests. Did I mention unit tests?</li>
                        <li>Use Jelly for generation of XML, Velocity for generation of Java and other miscellaneous files.</li>
                        <li>Tag validation and warnings about missing or incorrect tags</li>
                    </ul>

                    Standards support:
                    <ul>
                        <li><a href="http://www.onjava.com/pub/a/onjava/2002/08/14/ejb21.html" class="externalLink" title="External Link">EJB 2.1</a></li>
                        <li>Servlet 2.4 and JSP 2.0</li>
                    </ul>

                    EJB-JAR Plug-in:
                    <ul>
                        <li>New tag (supported in multiple plug-ins): @ejb.bean read-only="true"</li>
                        <li>getValue() and setValue() are generated in the CMP class when @ejb.value-object is used</li>
                        <li>@ejb.value-object name="..." is optional (defaults to @ejb.bean name="..." + "Value")</li>
                    </ul>

                    Build process:
                    <ul>
                        <li>Build process fully integrated with Maven</li>
                        <li>Use XDoclet without Ant</li>
                        <li><a href="http://cruisecontrol.sourceforge.net/" class="externalLink" title="External Link">CruiseControl</a> or 
                            <a href="http://www.urbancode.com/projects/anthill/default.jsp" class="externalLink" title="External Link">AntHill</a> for continuous integration
                            and hourly builds.</li>
                    </ul>

                    Plug-ins:
                    <ul>
                        <li>Maven Plug-in</li>
                        <li>Eclipse Plug-in</li>
                        <li>IDEA Plug-in</li>
                    </ul>

                    Generated sources:
                    <ul>
                        <li>Generation of a Session Facade</li>
                        <li>Generation of a Message Facade</li>
                        <li>Generation of JUnit Tests and Mock objects</li>
                        <li>Generation of Business Delegates</li>
                    </ul>

                    Documentation:
                    <ul>
                       <li>Full merge point documentation</li>
                       <li>Improved Tag Reference</li>
                       <li>UML documentation</li>
                       <li>XDoclet 1.2 to 2.0 Migration guide</li>
                    </ul>
                </p></div><div class="subsection"><a name="Deprecated_and_Removed"></a><h3>Deprecated and Removed</h3><ul>
                    <li><b>NO</b> more support for EJB 1.0 and 1.1, use XDoclet 1.2 for this</li>
                    <li><b>NO</b> more support for HPAS (HP discontinued it)</li>
                    <li><b>@ejb.aggregate</b> is removed in favor of @ejb.value-object</li>
                    <li><b>@ejb.data-object</b> is removed in favor of @ejb.value-object</li>
                    <li><b>@ejb.persistent-field</b> is deprecated in favor of @ejb.persistence (a warning is printed to the console)</li>
                    <li><b>@ejb.use-soft-locking</b> is removed (was only valid for EJB 1.0 and 1.1 beans)</li>
                    <li>All deprecated methods in XDoclet 1.2 are now removed</li>
                </ul></div><div class="subsection"><a name="Template_System"></a><h3>Template System</h3><p>
                    XDoclet is validly criticized for its template system.
                    Unfortunately there were neither Velocity nor Jelly
                    available in that old times when I was finalizing the
                    template system. Velocity was still a v0.4. So the very tag-
                    is but simple template system was born. It served pretty
                    well but now that the templates are becoming more and more
                    complex it proves to be the Achilles heel of XDoclet. So
                    we're throwing it away in 2.0 and introducing a new Template
                    Abstraction Layer, so you'll be able to write the templates
                    in Velocity or Jelly or whatever.
                </p></div><div class="subsection"><a name="XRAI"></a><h3>XRAI</h3><p>
                    Fascinating idea from Ara. You might already know that .Net
                    provides a runtime-based system for accessing attributes
                    (@tags), so you can simply do something like
                    anobj.getClass().getAttribute("ejb.bean") for example,
                    whereas in java you read an xml file, and XDoclet is a
                    compile time system which reads attributes. JSR 175 works on
                    a runtime system, but for now what do you think about a
                    simple simulation of a runtime attribute access API? So the
                    idea behind XRAI is a post-proccessor ant task which reads
                    source code and modifies the compiled classes with BCEL and
                    injects some static fields to classes. It injects things
                    like private static final Attribute[] attributes = new
                    Attribute[]{new Attribute("ejb.bean", ...)} and with a
                    naming convention for method level tags too. You'll be able
                    to access the tags with an API like this:
                    AClass.getAttribute("ejb.bean").
                    <a href="../mail-lists.html">Ideas</a>?
                </p></div></div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2000-2005, XDoclet Team</div><div class="clear"><hr></hr></div></div></body></html>